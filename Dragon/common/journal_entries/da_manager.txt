je_da_manager = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	group = je_group_internal_affairs

	scripted_button = da_debug_decision
	# scripted_button = da_disable_investment_pool
	scripted_button = da_start_mass_migration
	scripted_button = da_ban_military_button
	scripted_button = da_unban_military_button
	scripted_button = da_ban_shipyard_button
	scripted_button = da_unban_shipyard_button
	scripted_button = da_issue_debt_button

	scripted_button = active_construction_upgrade_manager
	scripted_button = deactive_construction_upgrade_manager
	scripted_button = active_country_goods_upgrade_manager
	scripted_button = deactive_country_goods_upgrade_manager
	scripted_button = active_industry_goods_upgrade_manager
	scripted_button = deactive_industry_goods_upgrade_manager
	scripted_button = active_live_goods_upgrade_manager
	scripted_button = deactive_live_goods_upgrade_manager
	scripted_button = active_luxury_goods_upgrade_manager
	scripted_button = deactive_luxury_goods_upgrade_manager
	scripted_button = active_resource_upgrade_manager
	scripted_button = deactive_resource_upgrade_manager

	scripted_button = increase_1
	scripted_button = decrease_1

	possible = {
		is_player = yes
	}

	is_shown_when_inactive = {
		is_player = yes
	}

	immediate = {
		# Calculate num pops
		set_variable = { name = da_total_pops_cnt_var value = da_total_pops_cnt }
		set_variable = { name = da_our_pops_cnt_var value = da_our_pops_cnt }
		set_global_variable = { name = da_upgrade_amount value = 1 }
	}

	on_monthly_pulse = {
		effect = {
			every_subject_or_below = {
				if = {
					limit = { is_immune_to_revolutions = no }
					set_immune_to_revolutions = yes
				}
				if = {
					limit = { scaled_debt < 0.1 }
					set_military_wage_level = very_high
					set_government_wage_level = very_high
				}
				else_if = {
					limit = { scaled_debt < 0.25 }
					set_military_wage_level = high
					set_government_wage_level = high
				}
				else_if = {
					limit = { scaled_debt > 0.75 }
					set_military_wage_level = very_low
					set_government_wage_level = very_low
				}
			}
		}
	}

	on_weekly_pulse = {
		effect = {
			# Calculate num pops
			set_variable = { name = da_total_pops_cnt_var value = da_total_pops_cnt }
			set_variable = { name = da_our_pops_cnt_var value = da_our_pops_cnt }

			if = { # Construction
				limit = { has_global_variable = da_construction_upgrade_manager }
				if = {
					limit = { has_technology_researched = arc_welding }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_arc_welded_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_arc_welded_buildings _2 = da_state_construction_pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_arc_welded_buildings _2 = da_state_construction_pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_arc_welded_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_arc_welded_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_arc_welded_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_steel_frame_buildings _2 = da_state_construction_pm_arc_welded_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_steel_frame_buildings _2 = da_state_construction_pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_steel_frame_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_steel_frame_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_steel_frame_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_arc_welded_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_iron_frame_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_wooden_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_arc_welded_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_iron_frame_buildings }
						}
						order_by = da_state_construction_pm_wooden_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_wooden_buildings }
					}
				}
				else_if = {
					limit = { has_technology_researched = steel_frame_buildings }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_steel_frame_buildings _2 = da_state_construction_pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_steel_frame_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_steel_frame_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_steel_frame_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_iron_frame_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_wooden_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_steel_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_iron_frame_buildings }
						}
						order_by = da_state_construction_pm_wooden_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_wooden_buildings }
					}
				}
				else_if = {
					limit = { has_technology_researched = urban_planning }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_iron_frame_buildings _2 = da_state_construction_pm_wooden_buildings }
						}
						order_by = da_state_construction_pm_iron_frame_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_iron_frame_buildings }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_construction_sector _2 = pm_wooden_buildings }
							da_autopm_worth_change = { _1 = da_state_construction_pm_wooden_buildings _2 = da_state_construction_pm_iron_frame_buildings }
						}
						order_by = da_state_construction_pm_wooden_buildings
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_construction_sector _2 = pm_wooden_buildings }
					}
				}
			}#da_country_goods_upgrade_manager
			if = { # Country goods
				limit = { has_global_variable = da_country_goods_upgrade_manager }
				#glass
				if = {
					limit = { has_technology_researched = plastics }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_houseware_plastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_houseware_plastics _2 = da_state_profit_pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_houseware_plastics _2 = da_state_profit_pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_houseware_plastics _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_houseware_plastics
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_houseware_plastics }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crystal_glass _2 = da_state_profit_pm_houseware_plastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crystal_glass _2 = da_state_profit_pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crystal_glass _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_crystal_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_crystal_glass }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_houseware_plastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_leaded_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_leaded_glass }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_forest_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_houseware_plastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_leaded_glass }
						}
						order_by = da_state_profit_pm_forest_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_forest_glass }
					}
				}
				else_if = {
					limit = { has_technology_researched = crystal_glass }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crystal_glass _2 = da_state_profit_pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crystal_glass _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_crystal_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_crystal_glass }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_leaded_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_leaded_glass }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_forest_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_crystal_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_leaded_glass }
						}
						order_by = da_state_profit_pm_forest_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_forest_glass }
					}
				}
				else_if = {
					limit = { has_technology_researched = lathe }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_leaded_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leaded_glass _2 = da_state_profit_pm_forest_glass }
						}
						order_by = da_state_profit_pm_leaded_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_leaded_glass }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_forest_glass }
							da_autopm_worth_change = { _1 = da_state_profit_pm_forest_glass _2 = da_state_profit_pm_leaded_glass }
						}
						order_by = da_state_profit_pm_forest_glass
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_forest_glass }
					}
				}
				#tool
				if = {
					limit = { has_technology_researched = vulcanization }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_rubber_grips }
							da_autopm_worth_change = { _1 = da_state_profit_pm_rubber_grips _2 = da_state_profit_pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_rubber_grips _2 = da_state_profit_pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_rubber_grips _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_rubber_grips
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_rubber_grips }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steel _2 = da_state_profit_pm_rubber_grips }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steel _2 = da_state_profit_pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steel _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_steel
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_steel }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_rubber_grips }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_pig_iron
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_pig_iron }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_crude_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_rubber_grips }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_pig_iron }
						}
						order_by = da_state_profit_pm_crude_tools
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_crude_tools }
					}
				}
				else_if = {
					limit = { has_technology_researched = mechanical_tools }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steel _2 = da_state_profit_pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steel _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_steel
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_steel }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_pig_iron
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_pig_iron }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_crude_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_steel }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_pig_iron }
						}
						order_by = da_state_profit_pm_crude_tools
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_crude_tools }
					}
				}
				else_if = {
					limit = { has_technology_researched = steelworking }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_pig_iron }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pig_iron _2 = da_state_profit_pm_crude_tools }
						}
						order_by = da_state_profit_pm_pig_iron
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_pig_iron }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tooling_workshops _2 = pm_crude_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_crude_tools _2 = da_state_profit_pm_pig_iron }
						}
						order_by = da_state_profit_pm_crude_tools
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tooling_workshops _2 = pm_crude_tools }
					}
				}
				#building_paper_mills
				if = {
					limit = { has_technology_researched = chemical_bleaching }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_paper_mills _2 = pm_bleached_paper }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bleached_paper _2 = da_state_profit_pm_sulfite_pulping }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bleached_paper _2 = da_state_profit_pm_pulp_pressing }
						}
						order_by = da_state_profit_pm_bleached_paper
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_paper_mills _2 = pm_bleached_paper }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_paper_mills _2 = pm_sulfite_pulping }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sulfite_pulping _2 = da_state_profit_pm_bleached_paper }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sulfite_pulping _2 = da_state_profit_pm_pulp_pressing }
						}
						order_by = da_state_profit_pm_sulfite_pulping
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_paper_mills _2 = pm_sulfite_pulping }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_paper_mills _2 = pm_pulp_pressing }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pulp_pressing _2 = da_state_profit_pm_bleached_paper }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pulp_pressing _2 = da_state_profit_pm_sulfite_pulping }
						}
						order_by = da_state_profit_pm_pulp_pressing
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_paper_mills _2 = pm_pulp_pressing }
					}
				}
				else_if = {
					limit = { has_technology_researched = mechanical_tools }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_paper_mills _2 = pm_sulfite_pulping }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sulfite_pulping _2 = da_state_profit_pm_pulp_pressing }
						}
						order_by = da_state_profit_pm_sulfite_pulping
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_paper_mills _2 = pm_sulfite_pulping }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_paper_mills _2 = pm_pulp_pressing }
							da_autopm_worth_change = { _1 = da_state_profit_pm_pulp_pressing _2 = da_state_profit_pm_sulfite_pulping }
						}
						order_by = da_state_profit_pm_pulp_pressing
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_paper_mills _2 = pm_pulp_pressing }
					}
				}
				#explosives
				if = {
					limit = { has_technology_researched = electrical_capacitors }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_brine_electrolysis }
							da_autopm_worth_change = { _1 = da_state_profit_pm_brine_electrolysis _2 = da_state_profit_pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_brine_electrolysis _2 = da_state_profit_pm_ammonia-soda_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_brine_electrolysis _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_brine_electrolysis
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_brine_electrolysis }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_evaporation _2 = da_state_profit_pm_brine_electrolysis }
							da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_evaporation _2 = da_state_profit_pm_ammonia-soda_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_evaporation _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_vacuum_evaporation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_vacuum_evaporation }
					}
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_explosives_factory
									production_method = pm_ammonia-soda_process
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_brine_electrolysis }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_ammonia-soda_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_explosives_factory
							production_method = pm_ammonia-soda_process
						}
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_leblanc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_brine_electrolysis }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_ammonia-soda_process }
						}
						order_by = da_state_profit_pm_leblanc_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_leblanc_process }
					}
				}
				else_if = {
					limit = { has_technology_researched = dynamite }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_evaporation _2 = da_state_profit_pm_ammonia-soda_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_evaporation _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_vacuum_evaporation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_vacuum_evaporation }
					}
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_explosives_factory
									production_method = pm_ammonia-soda_process
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_ammonia-soda_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_explosives_factory
							production_method = pm_ammonia-soda_process
						}
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_leblanc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_vacuum_evaporation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_ammonia-soda_process }
						}
						order_by = da_state_profit_pm_leblanc_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_leblanc_process }
					}
				}
				else_if = {
					limit = { has_technology_researched = nitroglycerin }
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_explosives_factory
									production_method = pm_ammonia-soda_process
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_ammonia-soda_process _2 = da_state_profit_pm_leblanc_process }
						}
						order_by = da_state_profit_pm_ammonia-soda_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_explosives_factory
							production_method = pm_ammonia-soda_process
						}
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_explosives_factory _2 = pm_leblanc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_leblanc_process _2 = da_state_profit_pm_ammonia-soda_process }
						}
						order_by = da_state_profit_pm_leblanc_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_explosives_factory _2 = pm_leblanc_process }
					}
				}
				#building_steel_mills
				if = {
					limit = { has_technology_researched = electric_arc_process }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_electric_arc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_arc_process _2 = da_state_profit_pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_arc_process _2 = da_state_profit_pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_arc_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_electric_arc_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_electric_arc_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_open_hearth_process _2 = da_state_profit_pm_electric_arc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_open_hearth_process _2 = da_state_profit_pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_open_hearth_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_open_hearth_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_open_hearth_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_electric_arc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_bessemer_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_bessemer_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_blister_steel_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_electric_arc_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_bessemer_process }
						}
						order_by = da_state_profit_pm_blister_steel_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_blister_steel_process }
					}
				}
				else_if = {
					limit = { has_technology_researched = open_hearth_process }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_open_hearth_process _2 = da_state_profit_pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_open_hearth_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_open_hearth_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_open_hearth_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_bessemer_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_bessemer_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_blister_steel_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_open_hearth_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_bessemer_process }
						}
						order_by = da_state_profit_pm_blister_steel_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_blister_steel_process }
					}
				}
				else_if = {
					limit = { has_technology_researched = bessemer_process }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_bessemer_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bessemer_process _2 = da_state_profit_pm_blister_steel_process }
						}
						order_by = da_state_profit_pm_bessemer_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_bessemer_process }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_steel_mills _2 = pm_blister_steel_process }
							da_autopm_worth_change = { _1 = da_state_profit_pm_blister_steel_process _2 = da_state_profit_pm_bessemer_process }
						}
						order_by = da_state_profit_pm_blister_steel_process
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_steel_mills _2 = pm_blister_steel_process }
					}
				}
				#engines
				if = {
					limit = { has_technology_researched = compression_ignition }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_diesel_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_engines _2 = da_state_profit_pm_electric_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_engines _2 = da_state_profit_pm_steam_engines }
						}
						order_by = da_state_profit_pm_diesel_engines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_diesel_engines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_electric_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_engines _2 = da_state_profit_pm_diesel_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_engines _2 = da_state_profit_pm_steam_engines }
						}
						order_by = da_state_profit_pm_electric_engines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_electric_engines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_steam_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_engines _2 = da_state_profit_pm_diesel_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_engines _2 = da_state_profit_pm_electric_engines }
						}
						order_by = da_state_profit_pm_steam_engines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_steam_engines }
					}
				}
				else_if = {
					limit = { has_technology_researched = electric_railway }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_electric_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_engines _2 = da_state_profit_pm_steam_engines }
						}
						order_by = da_state_profit_pm_electric_engines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_electric_engines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_steam_engines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_engines _2 = da_state_profit_pm_electric_engines }
						}
						order_by = da_state_profit_pm_steam_engines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_steam_engines }
					}
				}
				#automobiles
				if = {
					limit = { has_technology_researched = combustion_engine }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_automobile_production }
							da_autopm_worth_change = { _1 = da_state_profit_pm_automobile_production _2 = da_state_profit_pm_automobiles_disabled }
						}
						order_by = da_state_profit_pm_automobile_production
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_automobile_production }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_motor_industry _2 = pm_automobiles_disabled }
							da_autopm_worth_change = { _1 = da_state_profit_pm_automobiles_disabled _2 = da_state_profit_pm_automobile_production }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_motor_industry _2 = pm_automobiles_disabled }
					}
				}
				#shipyards
				if = {
					limit = { has_technology_researched = arc_welding }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_arc_welding_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arc_welding_shipbuilding _2 = da_state_profit_pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arc_welding_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arc_welding_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_arc_welding_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_arc_welding_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_metal_shipbuilding _2 = da_state_profit_pm_arc_welding_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_metal_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_metal_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_metal_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_metal_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_arc_welding_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_complex_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_arc_welding_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
						}
						order_by = da_state_profit_pm_basic_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
					}
				}
				else_if = {
					limit = { has_technology_researched = ironclad_tech }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_metal_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_metal_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_metal_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_metal_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_complex_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_metal_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
						}
						order_by = da_state_profit_pm_basic_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
					}
				}
				else_if = {
					limit = { has_technology_researched = screw_frigate }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_complex_shipbuilding _2 = da_state_profit_pm_basic_shipbuilding }
						}
						order_by = da_state_profit_pm_complex_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_complex_shipbuilding }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
							da_autopm_worth_change = { _1 = da_state_profit_pm_basic_shipbuilding _2 = da_state_profit_pm_complex_shipbuilding }
						}
						order_by = da_state_profit_pm_basic_shipbuilding
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_shipyards _2 = pm_basic_shipbuilding }
					}
				}
				#military_shipyards
				if = {
					limit = { has_technology_researched = arc_welding }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam_2 _2 = da_state_profit_pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam_2 _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam_2 _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_steam_2
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam_2 }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam _2 = da_state_profit_pm_military_shipbuilding_steam_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_steam
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_steam_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden_2
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_steam_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
					}
				}
				else_if = {
					limit = { has_technology_researched = ironclad_tech }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_steam _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_steam
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_steam }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden_2
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_steam }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
					}
				}
				else_if = {
					limit = { has_technology_researched = screw_frigate }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden_2 _2 = da_state_profit_pm_military_shipbuilding_wooden }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden_2
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden_2 }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
							da_autopm_worth_change = { _1 = da_state_profit_pm_military_shipbuilding_wooden _2 = da_state_profit_pm_military_shipbuilding_wooden_2 }
						}
						order_by = da_state_profit_pm_military_shipbuilding_wooden
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_military_shipyards _2 = pm_military_shipbuilding_wooden }
					}
				}
				#tank
				if = {
					limit = { has_technology_researched = mobile_armor }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_war_machine_industry _2 = pm_tank_production }
							da_autopm_worth_change = { _1 = da_state_profit_pm_tank_production _2 = da_state_profit_pm_no_tank_production }
						}
						order_by = da_state_profit_pm_tank_production
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_war_machine_industry _2 = pm_tank_production }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_war_machine_industry _2 = pm_no_tank_production }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_tank_production _2 = da_state_profit_pm_tank_production }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_war_machine_industry _2 = pm_no_tank_production }
					}
				}
				#radios
				if = {
					limit = { has_technology_researched = radio }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_electrics_industry _2 = pm_radios }
							da_autopm_worth_change = { _1 = da_state_profit_pm_radios _2 = da_state_profit_pm_no_radios }
						}
						order_by = da_state_profit_pm_radios
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_electrics_industry _2 = pm_radios }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_electrics_industry _2 = pm_no_radios }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_radios _2 = da_state_profit_pm_radios }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_electrics_industry _2 = pm_no_radios }
					}
				}
				#electricity
				if = {
					limit = { has_technology_researched = oil_turbine }
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_power_plant
									production_method = pm_oil-fired_plant
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_oil-fired_plant _2 = da_state_profit_pm_coal-fired_plant }
							da_autopm_worth_change = { _1 = da_state_profit_pm_oil-fired_plant _2 = da_state_profit_pm_hydroelectric_plant }
						}
						order_by = da_state_profit_pm_oil-fired_plant
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_power_plant
							production_method = pm_oil-fired_plant
						}
					}
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_power_plant
									production_method = pm_coal-fired_plant
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_coal-fired_plant _2 = da_state_profit_pm_oil-fired_plant }
							da_autopm_worth_change = { _1 = da_state_profit_pm_coal-fired_plant _2 = da_state_profit_pm_hydroelectric_plant }
						}
						order_by = da_state_profit_pm_coal-fired_plant
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_power_plant
							production_method = pm_coal-fired_plant
						}
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_power_plant _2 = pm_hydroelectric_plant }
							da_autopm_worth_change = { _1 = da_state_profit_pm_hydroelectric_plant _2 = da_state_profit_pm_oil-fired_plant }
							da_autopm_worth_change = { _1 = da_state_profit_pm_hydroelectric_plant _2 = da_state_profit_pm_coal-fired_plant }
						}
						order_by = da_state_profit_pm_hydroelectric_plant
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_power_plant _2 = pm_hydroelectric_plant }
					}
				}
				else_if = {
					limit = { has_technology_researched = steam_turbine }
					ordered_scope_state = {
						limit = {
							not = {
								is_production_method_active = {
									building_type = building_power_plant
									production_method = pm_coal-fired_plant
								}
							}
							da_autopm_worth_change = { _1 = da_state_profit_pm_coal-fired_plant _2 = da_state_profit_pm_hydroelectric_plant }
						}
						order_by = da_state_profit_pm_coal-fired_plant
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						activate_production_method = {
							building_type = building_power_plant
							production_method = pm_coal-fired_plant
						}
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_power_plant _2 = pm_hydroelectric_plant }
							da_autopm_worth_change = { _1 = da_state_profit_pm_hydroelectric_plant _2 = da_state_profit_pm_coal-fired_plant }
						}
						order_by = da_state_profit_pm_hydroelectric_plant
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_power_plant _2 = pm_hydroelectric_plant }
					}
				}
			}
			#da_industry_goods_upgrade_manager
			if = {
				limit = { has_global_variable = da_industry_goods_upgrade_manager }
				#PLANTATIONS
				if = {
					limit = { has_technology_researched = pumpjacks }
					#dye
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_dye_plantation _2 = automatic_irrigation_building_dye_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_dye_plantation _2 = da_state_profit_default_building_dye_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_dye_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_dye_plantation _2 = automatic_irrigation_building_dye_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_dye_plantation _2 = default_building_dye_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_dye_plantation _2 = da_state_profit_automatic_irrigation_building_dye_plantation }
						}
						order_by = da_state_profit_default_building_dye_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_dye_plantation _2 = default_building_dye_plantation }
					}
					#sugar
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sugar_plantation _2 = automatic_irrigation_building_sugar_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_sugar_plantation _2 = da_state_profit_default_building_sugar_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_sugar_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sugar_plantation _2 = automatic_irrigation_building_sugar_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sugar_plantation _2 = default_building_sugar_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_sugar_plantation _2 = da_state_profit_automatic_irrigation_building_sugar_plantation }
						}
						order_by = da_state_profit_default_building_sugar_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sugar_plantation _2 = default_building_sugar_plantation }
					}
				}
				#hardwood
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_logging_camp _2 = pm_increased_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_increased_hardwood _2 = da_state_profit_pm_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_increased_hardwood _2 = da_state_profit_pm_no_hardwood }
					}
					order_by = {
						value = da_state_profit_pm_increased_hardwood
						if = {
							limit = { da_state_profit_pm_hardwood > da_state_profit_pm_no_hardwood }
							subtract = da_state_profit_pm_hardwood
						}
						else = { subtract = da_state_profit_pm_no_hardwood }
					}
					max = global_var:da_upgrade_amount
					check_range_bounds = no
					da_auto_change_pm = { _1 = building_logging_camp _2 = pm_increased_hardwood }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_logging_camp _2 = pm_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_hardwood _2 = da_state_profit_pm_increased_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_hardwood _2 = da_state_profit_pm_no_hardwood }
					}
					order_by = {
						value = da_state_profit_pm_hardwood
						if = {
							limit = { da_state_profit_pm_increased_hardwood > da_state_profit_pm_no_hardwood }
							subtract = da_state_profit_pm_increased_hardwood
						}
						else = { subtract = da_state_profit_pm_no_hardwood }
					}
					max = global_var:da_upgrade_amount
					check_range_bounds = no
					da_auto_change_pm = { _1 = building_logging_camp _2 = pm_hardwood }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_logging_camp _2 = pm_no_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_hardwood _2 = da_state_profit_pm_increased_hardwood }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_hardwood _2 = da_state_profit_pm_hardwood }
					}
					order_by = {
						value = da_state_profit_pm_no_hardwood
						if = {
							limit = { da_state_profit_pm_increased_hardwood > da_state_profit_pm_hardwood }
							subtract = da_state_profit_pm_increased_hardwood
						}
						else = { subtract = da_state_profit_pm_hardwood }
					}
					max = global_var:da_upgrade_amount
					check_range_bounds = no
					da_auto_change_pm = { _1 = building_logging_camp _2 = pm_no_hardwood }
				}
				#fertilizer
				if = {
					limit = { has_technology_researched = nitrogen_fixation }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_chemical_plants _2 = pm_nitrogen_fixation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitrogen_fixation _2 = da_state_profit_pm_improved_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitrogen_fixation _2 = da_state_profit_pm_artificial_fertilizers }
						}
						order_by = da_state_profit_pm_nitrogen_fixation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_chemical_plants _2 = pm_nitrogen_fixation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_chemical_plants _2 = pm_improved_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_improved_fertilizer _2 = da_state_profit_pm_nitrogen_fixation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_improved_fertilizer _2 = da_state_profit_pm_artificial_fertilizers }
						}
						order_by = da_state_profit_pm_improved_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_chemical_plants _2 = pm_improved_fertilizer }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_chemical_plants _2 = pm_artificial_fertilizers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_artificial_fertilizers _2 = da_state_profit_pm_nitrogen_fixation }
							da_autopm_worth_change = { _1 = da_state_profit_pm_artificial_fertilizers _2 = da_state_profit_pm_improved_fertilizer }
						}
						order_by = da_state_profit_pm_artificial_fertilizers
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_chemical_plants _2 = pm_artificial_fertilizers }
					}
				}
				else_if = {
					limit = { has_technology_researched = improved_fertilizer }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_chemical_plants _2 = pm_improved_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_improved_fertilizer _2 = da_state_profit_pm_artificial_fertilizers }
						}
						order_by = da_state_profit_pm_improved_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_chemical_plants _2 = pm_improved_fertilizer }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_chemical_plants _2 = pm_artificial_fertilizers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_artificial_fertilizers _2 = da_state_profit_pm_improved_fertilizer }
						}
						order_by = da_state_profit_pm_artificial_fertilizers
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_chemical_plants _2 = pm_artificial_fertilizers }
					}
				}
				#transport
				if = {
					limit = { has_technology_researched = combustion_engine }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_public_motor_carriages }
							da_autopm_worth_change = { _1 = da_state_profit_pm_public_motor_carriages _2 = da_state_profit_pm_public_trams }
							da_autopm_worth_change = { _1 = da_state_profit_pm_public_motor_carriages _2 = da_state_profit_pm_no_public_transport }
						}
						order_by = da_state_profit_pm_public_motor_carriages
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_public_motor_carriages }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_public_trams }
							da_autopm_worth_change = { _1 = da_state_profit_pm_public_trams _2 = da_state_profit_pm_public_motor_carriages }
							da_autopm_worth_change = { _1 = da_state_profit_pm_public_trams _2 = da_state_profit_pm_no_public_transport }
						}
						order_by = da_state_profit_pm_public_trams
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_public_trams }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_no_public_transport }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_public_transport _2 = da_state_profit_pm_public_motor_carriages }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_public_transport _2 = da_state_profit_pm_public_trams }
						}
						order_by = da_state_profit_pm_no_public_transport
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_no_public_transport }
					}
				}
				else_if = {
					limit = { has_technology_researched = railways }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_public_trams }
							da_autopm_worth_change = { _1 = da_state_profit_pm_public_trams _2 = da_state_profit_pm_no_public_transport }
						}
						order_by = da_state_profit_pm_public_trams
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_public_trams }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_no_public_transport }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_public_transport _2 = da_state_profit_pm_public_trams }
						}
						order_by = da_state_profit_pm_no_public_transport
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_no_public_transport }
					}
				}
			}
			#da_live_goods_upgrade_manager
			if = {
				limit = { has_global_variable = da_live_goods_upgrade_manager }
				#food_baking
				if = {
					limit = { has_technology_researched = baking_powder }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_baking_powder }
							da_autopm_worth_change = { _1 = da_state_profit_pm_baking_powder _2 = da_state_profit_pm_sweeteners }
							da_autopm_worth_change = { _1 = da_state_profit_pm_baking_powder _2 = da_state_profit_pm_bakery }
						}
						order_by = da_state_profit_pm_baking_powder
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_food_industry _2 = pm_baking_powder }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_sweeteners }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sweeteners _2 = da_state_profit_pm_baking_powder }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sweeteners _2 = da_state_profit_pm_bakery }
						}
						order_by = da_state_profit_pm_sweeteners
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_food_industry _2 = pm_sweeteners }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_bakery }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bakery _2 = da_state_profit_pm_baking_powder }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bakery _2 = da_state_profit_pm_sweeteners }
						}
						da_auto_change_pm = { _1 = building_food_industry _2 = pm_bakery }
					}
				}
				else_if = {
					limit = { has_technology_researched = distillation }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_sweeteners }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sweeteners _2 = da_state_profit_pm_bakery }
						}
						order_by = da_state_profit_pm_sweeteners
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_food_industry _2 = pm_sweeteners }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_bakery }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bakery _2 = da_state_profit_pm_sweeteners }
						}
						order_by = da_state_profit_pm_bakery
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_food_industry _2 = pm_bakery }
					}
				}
				#food_canning
				# if = {
				# 	limit = { has_technology_researched = vacuum_canning }
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_vacuum_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_canning _2 = da_state_profit_pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_canning _2 = da_state_profit_pm_cannery_fish }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_vacuum_canning _2 = da_state_profit_pm_disabled_canning }
				# 		}
				# 		order_by = da_state_profit_pm_vacuum_canning
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_vacuum_canning }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery _2 = da_state_profit_pm_vacuum_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery _2 = da_state_profit_pm_cannery_fish }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery _2 = da_state_profit_pm_disabled_canning }
				# 		}
				# 		order_by = da_state_profit_pm_cannery
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_cannery }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery_fish _2 = da_state_profit_pm_vacuum_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery_fish _2 = da_state_profit_pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery_fish _2 = da_state_profit_pm_disabled_canning }
				# 		}
				# 		order_by = da_state_profit_pm_cannery
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_cannery_fish }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_disabled_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_canning _2 = da_state_profit_pm_vacuum_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_canning _2 = da_state_profit_pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_canning _2 = da_state_profit_pm_cannery_fish }
				# 		}
				# 		order_by = 0
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_disabled_canning }
				# 	}
				# }
				# else_if = {
				# 	limit = { has_technology_researched = canneries }
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery _2 = da_state_profit_pm_cannery_fish }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery _2 = da_state_profit_pm_disabled_canning }
				# 		}
				# 		order_by = da_state_profit_pm_cannery
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_cannery }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery_fish _2 = da_state_profit_pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_cannery_fish _2 = da_state_profit_pm_disabled_canning }
				# 		}
				# 		order_by = da_state_profit_pm_cannery_fish
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_cannery_fish }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_disabled_canning }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_canning _2 = da_state_profit_pm_cannery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_canning _2 = da_state_profit_pm_cannery_fish }
				# 		}
				# 		order_by = 0
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_disabled_canning }
				# 	}
				# }
				#clothes
				if = {
					limit = { has_technology_researched = electrical_capacitors }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_electric_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_sewing_machines _2 = da_state_profit_pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_sewing_machines _2 = da_state_profit_pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_sewing_machines _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_electric_sewing_machines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_electric_sewing_machines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sewing_machines _2 = da_state_profit_pm_electric_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sewing_machines _2 = da_state_profit_pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sewing_machines _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_sewing_machines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_sewing_machines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_electric_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_dye_workshops
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_dye_workshops }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_electric_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_dye_workshops }
						}
						order_by = da_state_profit_pm_handsewn_clothes
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
					}
				}
				else_if = {
					limit = { has_technology_researched = mechanized_workshops }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sewing_machines _2 = da_state_profit_pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sewing_machines _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_sewing_machines
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_sewing_machines }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_dye_workshops
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_dye_workshops }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_sewing_machines }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_dye_workshops }
						}
						order_by = da_state_profit_pm_handsewn_clothes
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
					}
				}
				else_if = {
					limit = { has_technology_researched = lathe }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_dye_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dye_workshops _2 = da_state_profit_pm_handsewn_clothes }
						}
						order_by = da_state_profit_pm_dye_workshops
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_dye_workshops }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handsewn_clothes _2 = da_state_profit_pm_dye_workshops }
						}
						order_by = da_state_profit_pm_handsewn_clothes
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_handsewn_clothes }
					}
				}
				#furniture
				if = {
					limit = { has_technology_researched = mechanized_workshops }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_mechanized_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_mechanized_workshops _2 = da_state_profit_pm_lathe }
							da_autopm_worth_change = { _1 = da_state_profit_pm_mechanized_workshops _2 = da_state_profit_pm_handcrafted_furniture }
						}
						order_by = da_state_profit_pm_mechanized_workshops
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_mechanized_workshops }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_lathe }
							da_autopm_worth_change = { _1 = da_state_profit_pm_lathe _2 = da_state_profit_pm_mechanized_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_lathe _2 = da_state_profit_pm_handcrafted_furniture }
						}
						order_by = da_state_profit_pm_lathe
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_lathe }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_handcrafted_furniture }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handcrafted_furniture _2 = da_state_profit_pm_mechanized_workshops }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handcrafted_furniture _2 = da_state_profit_pm_lathe }
						}
						order_by = da_state_profit_pm_handcrafted_furniture
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_handcrafted_furniture }
					}
				}
				else_if = {
					limit = { has_technology_researched = lathe }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_lathe }
							da_autopm_worth_change = { _1 = da_state_profit_pm_lathe _2 = da_state_profit_pm_handcrafted_furniture }
						}
						order_by = da_state_profit_pm_lathe
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_lathe }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_handcrafted_furniture }
							da_autopm_worth_change = { _1 = da_state_profit_pm_handcrafted_furniture _2 = da_state_profit_pm_lathe }
						}
						order_by = da_state_profit_pm_handcrafted_furniture
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_handcrafted_furniture }
					}
				}
				#food_liquor
				# if = {
				# 	limit = { has_technology_researched = fractional_distillation }
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_patent_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_patent_stills _2 = da_state_profit_pm_pot_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_patent_stills _2 = da_state_profit_pm_disabled_distillery }
				# 		}
				# 		order_by = da_state_profit_pm_patent_stills
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_patent_stills }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_pot_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_pot_stills _2 = da_state_profit_pm_patent_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_pot_stills _2 = da_state_profit_pm_disabled_distillery }
				# 		}
				# 		order_by = da_state_profit_pm_pot_stills
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_pot_stills }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_disabled_distillery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_distillery _2 = da_state_profit_pm_patent_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_distillery _2 = da_state_profit_pm_pot_stills }
				# 		}
				# 		order_by = 0
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_disabled_distillery }
				# 	}
				# }
				# else_if = {
				# 	limit = { has_technology_researched = distillation }
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_pot_stills }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_pot_stills _2 = da_state_profit_pm_disabled_distillery }
				# 		}
				# 		order_by = da_state_profit_pm_pot_stills
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_pot_stills }
				# 	}
				# 	ordered_scope_state = {
				# 		limit = {
				# 			da_auto_change_pm_trigger = { _1 = building_food_industry _2 = pm_disabled_distillery }
				# 			da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_distillery _2 = da_state_profit_pm_pot_stills }
				# 		}
				# 		order_by = 0
				# 		max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 		da_auto_change_pm = { _1 = building_food_industry _2 = pm_disabled_distillery }
				# 	}
				# }
			}
			#da_luxury_goods_upgrade_manager
			if = {
				limit = { has_global_variable = da_luxury_goods_upgrade_manager }
				#PLANTATIONS
				if = {
					limit = { has_technology_researched = pumpjacks }
					#coffee
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coffee_plantation _2 = automatic_irrigation_building_coffee_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_coffee_plantation _2 = da_state_profit_default_building_coffee_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_coffee_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coffee_plantation _2 = automatic_irrigation_building_coffee_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coffee_plantation _2 = default_building_coffee_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_coffee_plantation _2 = da_state_profit_automatic_irrigation_building_coffee_plantation }
						}
						order_by = da_state_profit_default_building_coffee_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coffee_plantation _2 = default_building_coffee_plantation }
					}
					#tea
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tea_plantation _2 = automatic_irrigation_building_tea_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_tea_plantation _2 = da_state_profit_default_building_tea_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_tea_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tea_plantation _2 = automatic_irrigation_building_tea_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tea_plantation _2 = default_building_tea_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_tea_plantation _2 = da_state_profit_automatic_irrigation_building_tea_plantation }
						}
						order_by = da_state_profit_default_building_tea_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tea_plantation _2 = default_building_tea_plantation }
					}
					#tobacco
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tobacco_plantation _2 = automatic_irrigation_building_tobacco_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_tobacco_plantation _2 = da_state_profit_default_building_tobacco_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_tobacco_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tobacco_plantation _2 = automatic_irrigation_building_tobacco_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_tobacco_plantation _2 = default_building_tobacco_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_tobacco_plantation _2 = da_state_profit_automatic_irrigation_building_tobacco_plantation }
						}
						order_by = da_state_profit_default_building_tobacco_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_tobacco_plantation _2 = default_building_tobacco_plantation }
					}
					#banana
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_banana_plantation _2 = automatic_irrigation_building_banana_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_banana_plantation _2 = da_state_profit_default_building_banana_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_banana_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_banana_plantation _2 = automatic_irrigation_building_banana_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_banana_plantation _2 = default_building_banana_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_banana_plantation _2 = da_state_profit_automatic_irrigation_building_banana_plantation }
						}
						order_by = da_state_profit_default_building_banana_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_banana_plantation _2 = default_building_banana_plantation }
					}
					#silk
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_silk_plantation _2 = automatic_irrigation_building_silk_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_silk_plantation _2 = da_state_profit_default_building_silk_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_silk_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_silk_plantation _2 = automatic_irrigation_building_silk_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_silk_plantation _2 = default_building_silk_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_default_building_silk_plantation _2 = da_state_profit_automatic_irrigation_building_silk_plantation }
						}
						order_by = da_state_profit_default_building_silk_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_silk_plantation _2 = default_building_silk_plantation }
					}
					#wine
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_vineyard_plantation _2 = automatic_irrigation_building_vineyard_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_vineyard_plantation _2 = da_state_profit_default_building_vineyard_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_vineyard_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_vineyard_plantation _2 = automatic_irrigation_building_vineyard_plantation }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_vineyard_plantation _2 = automatic_irrigation_building_vineyard_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_vineyard_plantation _2 = da_state_profit_default_building_vineyard_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_vineyard_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_vineyard_plantation _2 = automatic_irrigation_building_vineyard_plantation }
					}
				}
				#luxury_clothes
				if = {
					limit = { has_technology_researched = vulcanization }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_elastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_elastics _2 = da_state_profit_pm_craftsman_sewing }
							da_autopm_worth_change = { _1 = da_state_profit_pm_elastics _2 = da_state_profit_pm_no_luxury_clothes }
						}
						order_by = da_state_profit_pm_elastics
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_elastics }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_craftsman_sewing }
							da_autopm_worth_change = { _1 = da_state_profit_pm_craftsman_sewing _2 = da_state_profit_pm_elastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_craftsman_sewing _2 = da_state_profit_pm_no_luxury_clothes }
						}
						order_by = da_state_profit_pm_craftsman_sewing
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_craftsman_sewing }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_no_luxury_clothes }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxury_clothes _2 = da_state_profit_pm_elastics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxury_clothes _2 = da_state_profit_pm_craftsman_sewing }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_no_luxury_clothes }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_craftsman_sewing }
							da_autopm_worth_change = { _1 = da_state_profit_pm_craftsman_sewing _2 = da_state_profit_pm_no_luxury_clothes }
						}
						order_by = da_state_profit_pm_craftsman_sewing
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_craftsman_sewing }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_textile_mills _2 = pm_no_luxury_clothes }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxury_clothes _2 = da_state_profit_pm_craftsman_sewing }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_textile_mills _2 = pm_no_luxury_clothes }
					}
				}
				#luxury_furniture
				if = {
					limit = { has_technology_researched = mechanical_tools }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_precision_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_precision_tools _2 = da_state_profit_pm_luxury_furniture }
							da_autopm_worth_change = { _1 = da_state_profit_pm_precision_tools _2 = da_state_profit_pm_no_luxuries }
						}
						order_by = da_state_profit_pm_precision_tools
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_precision_tools }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_luxury_furniture }
							da_autopm_worth_change = { _1 = da_state_profit_pm_luxury_furniture _2 = da_state_profit_pm_precision_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_luxury_furniture _2 = da_state_profit_pm_no_luxuries }
						}
						order_by = da_state_profit_pm_luxury_furniture
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_luxury_furniture }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_no_luxuries }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxuries _2 = da_state_profit_pm_precision_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxuries _2 = da_state_profit_pm_luxury_furniture }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_no_luxuries }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_luxury_furniture }
							da_autopm_worth_change = { _1 = da_state_profit_pm_luxury_furniture _2 = da_state_profit_pm_no_luxuries }
						}
						order_by = da_state_profit_pm_luxury_furniture
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_luxury_furniture }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_furniture_manufacturies _2 = pm_no_luxuries }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_luxuries _2 = da_state_profit_pm_luxury_furniture }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_furniture_manufacturies _2 = pm_no_luxuries }
					}
				}
				#porcelain
				if = {
					limit = { has_technology_researched = chemical_bleaching }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_bone_china }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bone_china _2 = da_state_profit_pm_ceramics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_bone_china _2 = da_state_profit_pm_disabled_ceramics }
						}
						order_by = da_state_profit_pm_bone_china
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_bone_china }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_ceramics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ceramics _2 = da_state_profit_pm_bone_china }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ceramics _2 = da_state_profit_pm_disabled_ceramics }
						}
						order_by = da_state_profit_pm_ceramics
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_ceramics }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_disabled_ceramics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_ceramics _2 = da_state_profit_pm_bone_china }
							da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_ceramics _2 = da_state_profit_pm_ceramics }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_disabled_ceramics }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_ceramics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_ceramics _2 = da_state_profit_pm_disabled_ceramics }
						}
						order_by = da_state_profit_pm_ceramics
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_ceramics }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_glassworks _2 = pm_disabled_ceramics }
							da_autopm_worth_change = { _1 = da_state_profit_pm_disabled_ceramics _2 = da_state_profit_pm_ceramics }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_glassworks _2 = pm_disabled_ceramics }
					}
				}
				#building_synthetics_plants
				if = {
					limit = { has_technology_researched = art_silk }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_synthetics_plants _2 = pm_rayon }
							da_autopm_worth_change = { _1 = da_state_profit_pm_rayon _2 = da_state_profit_pm_no_artificial_fibers }
						}
						order_by = da_state_profit_pm_rayon
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_synthetics_plants _2 = pm_rayon }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_synthetics_plants _2 = pm_no_artificial_fibers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_artificial_fibers _2 = da_state_profit_pm_rayon }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_synthetics_plants _2 = pm_no_artificial_fibers }
					}
				}
				#urban
				if = {
					limit = { has_technology_researched = elevator }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_arcades }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arcades _2 = da_state_profit_pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arcades _2 = da_state_profit_pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_arcades _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_arcades
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_arcades }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_covered_markets _2 = da_state_profit_pm_arcades }
							da_autopm_worth_change = { _1 = da_state_profit_pm_covered_markets _2 = da_state_profit_pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_covered_markets _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_covered_markets
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_covered_markets }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_arcades }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_market_squares
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_squares }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_stalls }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_arcades }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_market_squares }
						}
						order_by = da_state_profit_pm_market_stalls
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_stalls }
					}
				}
				else_if = {
					limit = { has_technology_researched = steel_frame_buildings }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_covered_markets _2 = da_state_profit_pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_covered_markets _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_covered_markets
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_covered_markets }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_market_squares
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_squares }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_stalls }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_covered_markets }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_market_squares }
						}
						order_by = da_state_profit_pm_market_stalls
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_stalls }
					}
				}
				else_if = {
					limit = { has_technology_researched = urban_planning }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_squares }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_squares _2 = da_state_profit_pm_market_stalls }
						}
						order_by = da_state_profit_pm_market_squares
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_squares }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_market_stalls }
							da_autopm_worth_change = { _1 = da_state_profit_pm_market_stalls _2 = da_state_profit_pm_market_squares }
						}
						order_by = da_state_profit_pm_market_stalls
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_market_stalls }
					}
				}
				#light
				if = {
					limit = { has_technology_researched = electrical_generation }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_electric_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_streetlights _2 = da_state_profit_pm_gas_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_streetlights _2 = da_state_profit_pm_no_street_lighting }
						}
						order_by = da_state_profit_pm_electric_streetlights
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_electric_streetlights }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_gas_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_gas_streetlights _2 = da_state_profit_pm_electric_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_gas_streetlights _2 = da_state_profit_pm_no_street_lighting }
						}
						order_by = da_state_profit_pm_gas_streetlights
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_gas_streetlights }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_no_street_lighting }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_street_lighting _2 = da_state_profit_pm_electric_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_street_lighting _2 = da_state_profit_pm_gas_streetlights }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_no_street_lighting }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_gas_streetlights }
							da_autopm_worth_change = { _1 = da_state_profit_pm_gas_streetlights _2 = da_state_profit_pm_no_street_lighting }
						}
						order_by = da_state_profit_pm_gas_streetlights
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_gas_streetlights }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_urban_center _2 = pm_no_street_lighting }
							da_autopm_worth_change = { _1 = da_state_profit_pm_no_street_lighting _2 = da_state_profit_pm_gas_streetlights }
						}
						order_by = 0
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_urban_center _2 = pm_no_street_lighting }
					}
				}
				#art
				if = {
					limit = { has_technology_researched = film }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_film_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_film_art _2 = da_state_profit_pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_film_art _2 = da_state_profit_pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_film_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_film_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_film_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_photographic_art _2 = da_state_profit_pm_film_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_photographic_art _2 = da_state_profit_pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_photographic_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_photographic_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_photographic_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_film_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_realist_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_realist_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_traditional_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_film_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_realist_art }
						}
						order_by = da_state_profit_pm_traditional_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_traditional_art }
					}
				}
				else_if = {
					limit = { has_technology_researched = camera }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_photographic_art _2 = da_state_profit_pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_photographic_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_photographic_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_photographic_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_realist_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_realist_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_traditional_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_photographic_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_realist_art }
						}
						order_by = da_state_profit_pm_traditional_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_traditional_art }
					}
				}
				else_if = {
					limit = { has_technology_researched = realism }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_realist_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_realist_art _2 = da_state_profit_pm_traditional_art }
						}
						order_by = da_state_profit_pm_realist_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_realist_art }
					}
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_arts_academy _2 = pm_traditional_art }
							da_autopm_worth_change = { _1 = da_state_profit_pm_traditional_art _2 = da_state_profit_pm_realist_art }
						}
						order_by = da_state_profit_pm_traditional_art
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_arts_academy _2 = pm_traditional_art }
					}
				}
				#rye
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_potatoes }
						da_autopm_worth_change = { _1 = da_state_profit_pm_potatoes _2 = da_state_profit_pm_apple_orchards }
						da_autopm_worth_change = { _1 = da_state_profit_pm_potatoes _2 = da_state_profit_pm_no_secondary }
					}
					order_by = da_state_profit_pm_potatoes
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_rye_farm _2 = pm_potatoes }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_apple_orchards }
						da_autopm_worth_change = { _1 = da_state_profit_pm_apple_orchards _2 = da_state_profit_pm_potatoes }
						da_autopm_worth_change = { _1 = da_state_profit_pm_apple_orchards _2 = da_state_profit_pm_no_secondary }
					}
					order_by = da_state_profit_pm_apple_orchards
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_rye_farm _2 = pm_apple_orchards }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_no_secondary }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_potatoes }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_apple_orchards }
					}
					order_by = da_state_profit_pm_no_secondary
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_rye_farm _2 = pm_no_secondary }
				}
				#wheat
				# ordered_scope_state = {
				# 	limit = {
				# 		da_auto_change_pm_trigger = { _1 = building_wheat_farm _2 = pm_citrus_orchards }
				# 		da_autopm_worth_change = { _1 = da_state_profit_pm_citrus_orchards _2 = da_state_profit_pm_no_secondary }
				# 	}
				# 	order_by = da_state_profit_pm_citrus_orchards
				# 	max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 	da_auto_change_pm = { _1 = building_wheat_farm _2 = pm_citrus_orchards }
				# }
				# ordered_scope_state = {
				# 	limit = {
				# 		da_auto_change_pm_trigger = { _1 = building_wheat_farm _2 = pm_no_secondary }
				# 		da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_citrus_orchards }
				# 	}
				# 	order_by = da_state_profit_pm_no_secondary
				# 	max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 	da_auto_change_pm = { _1 = building_wheat_farm _2 = pm_no_secondary }
				# }
				#rice
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_rice_farm _2 = pm_fig_orchards_building_rice_farm }
						da_autopm_worth_change = { _1 = da_state_profit_pm_fig_orchards_building_rice_farm _2 = da_state_profit_pm_no_secondary }
					}
					order_by = da_state_profit_pm_fig_orchards_building_rice_farm
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_rice_farm _2 = pm_fig_orchards_building_rice_farm }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_rice_farm _2 = pm_no_secondary }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_fig_orchards_building_rice_farm }
					}
					order_by = da_state_profit_pm_no_secondary
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_rice_farm _2 = pm_no_secondary }
				}
				#maize
				# ordered_scope_state = {
				# 	limit = {
				# 		da_auto_change_pm_trigger = { _1 = building_maize_farm _2 = pm_citrus_orchards }
				# 		da_autopm_worth_change = { _1 = da_state_profit_pm_citrus_orchards _2 = da_state_profit_pm_no_secondary }
				# 	}
				# 	order_by = da_state_profit_pm_citrus_orchards
				# 	max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 	da_auto_change_pm = { _1 = building_maize_farm _2 = pm_citrus_orchards }
				# }
				# ordered_scope_state = {
				# 	limit = {
				# 		da_auto_change_pm_trigger = { _1 = building_maize_farm _2 = pm_no_secondary }
				# 		da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_citrus_orchards }
				# 	}
				# 	order_by = da_state_profit_pm_no_secondary
				# 	max = global_var:da_upgrade_amount
				# 		check_range_bounds = no
				# 	da_auto_change_pm = { _1 = building_maize_farm _2 = pm_no_secondary }
				# }
				#millet
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_millet_farm _2 = pm_fig_orchards }
						da_autopm_worth_change = { _1 = da_state_profit_pm_fig_orchards _2 = da_state_profit_pm_no_secondary }
					}
					order_by = da_state_profit_pm_fig_orchards
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_millet_farm _2 = pm_fig_orchards }
				}
				ordered_scope_state = {
					limit = {
						da_auto_change_pm_trigger = { _1 = building_millet_farm _2 = pm_no_secondary }
						da_autopm_worth_change = { _1 = da_state_profit_pm_no_secondary _2 = da_state_profit_pm_fig_orchards }
					}
					order_by = da_state_profit_pm_no_secondary
					max = global_var:da_upgrade_amount
						check_range_bounds = no
					da_auto_change_pm = { _1 = building_millet_farm _2 = pm_no_secondary }
				}
			}
			#da_resource_upgrade_manager
			if = {
				limit = { has_global_variable = da_resource_upgrade_manager }
				#mine
				if = {
					limit = { has_technology_researched = compression_ignition }
					#iron
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_iron_mine _2 = pm_diesel_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_iron_mine _2 = da_state_profit_pm_condensing_engine_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_iron_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_iron_mine _2 = da_state_profit_pm_picks_and_shovels_building_iron_mine }
						}
						order_by = da_state_profit_pm_diesel_pump_building_iron_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_iron_mine _2 = pm_diesel_pump_building_iron_mine }
					}
					#gold
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_gold_mine _2 = pm_diesel_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_gold_mine _2 = da_state_profit_pm_condensing_engine_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_gold_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_gold_mine _2 = da_state_profit_pm_picks_and_shovels_building_gold_mine }
						}
						order_by = da_state_profit_pm_diesel_pump_building_gold_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_gold_mine _2 = pm_diesel_pump_building_gold_mine }
					}
					#coal
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coal_mine _2 = pm_diesel_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_coal_mine _2 = da_state_profit_pm_condensing_engine_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_coal_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_coal_mine _2 = da_state_profit_pm_picks_and_shovels_building_coal_mine }
						}
						order_by = da_state_profit_pm_diesel_pump_building_coal_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coal_mine _2 = pm_diesel_pump_building_coal_mine }
					}
					#lead
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_lead_mine _2 = pm_diesel_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_lead_mine _2 = da_state_profit_pm_condensing_engine_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_lead_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_lead_mine _2 = da_state_profit_pm_picks_and_shovels_building_lead_mine }
						}
						order_by = da_state_profit_pm_diesel_pump_building_lead_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_lead_mine _2 = pm_diesel_pump_building_lead_mine }
					}
					#sulfur
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sulfur_mine _2 = pm_diesel_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_sulfur_mine _2 = da_state_profit_pm_condensing_engine_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_sulfur_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_diesel_pump_building_sulfur_mine _2 = da_state_profit_pm_picks_and_shovels_building_sulfur_mine }
						}
						order_by = da_state_profit_pm_diesel_pump_building_sulfur_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sulfur_mine _2 = pm_diesel_pump_building_sulfur_mine }
					}
				}
				else_if = {
					limit = { has_technology_researched = watertube_boiler }
					#iron
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_iron_mine _2 = pm_condensing_engine_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_iron_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_iron_mine _2 = da_state_profit_pm_picks_and_shovels_building_iron_mine }
						}
						order_by = da_state_profit_pm_condensing_engine_pump_building_iron_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_iron_mine _2 = pm_condensing_engine_pump_building_iron_mine }
					}
					#gold
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_gold_mine _2 = pm_condensing_engine_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_gold_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_gold_mine _2 = da_state_profit_pm_picks_and_shovels_building_gold_mine }
						}
						order_by = da_state_profit_pm_condensing_engine_pump_building_gold_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_gold_mine _2 = pm_condensing_engine_pump_building_gold_mine }
					}
					#coal
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coal_mine _2 = pm_condensing_engine_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_coal_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_coal_mine _2 = da_state_profit_pm_picks_and_shovels_building_coal_mine }
						}
						order_by = da_state_profit_pm_condensing_engine_pump_building_coal_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coal_mine _2 = pm_condensing_engine_pump_building_coal_mine }
					}
					#lead
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_lead_mine _2 = pm_condensing_engine_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_lead_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_lead_mine _2 = da_state_profit_pm_picks_and_shovels_building_lead_mine }
						}
						order_by = da_state_profit_pm_condensing_engine_pump_building_lead_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_lead_mine _2 = pm_condensing_engine_pump_building_lead_mine }
					}
					#sulfur
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sulfur_mine _2 = pm_condensing_engine_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_sulfur_mine _2 = da_state_profit_pm_atmospheric_engine_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_condensing_engine_pump_building_sulfur_mine _2 = da_state_profit_pm_picks_and_shovels_building_sulfur_mine }
						}
						order_by = da_state_profit_pm_condensing_engine_pump_building_sulfur_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sulfur_mine _2 = pm_condensing_engine_pump_building_sulfur_mine }
					}
				}
				else_if = {
					limit = { has_technology_researched = atmospheric_engine }
					#iron
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_iron_mine _2 = pm_atmospheric_engine_pump_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_atmospheric_engine_pump_building_iron_mine _2 = da_state_profit_pm_picks_and_shovels_building_iron_mine }
						}
						order_by = da_state_profit_pm_atmospheric_engine_pump_building_iron_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_iron_mine _2 = pm_atmospheric_engine_pump_building_iron_mine }
					}
					#gold
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_gold_mine _2 = pm_atmospheric_engine_pump_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_atmospheric_engine_pump_building_gold_mine _2 = da_state_profit_pm_picks_and_shovels_building_gold_mine }
						}
						order_by = da_state_profit_pm_atmospheric_engine_pump_building_gold_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_gold_mine _2 = pm_atmospheric_engine_pump_building_gold_mine }
					}
					#coal
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coal_mine _2 = pm_atmospheric_engine_pump_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_atmospheric_engine_pump_building_coal_mine _2 = da_state_profit_pm_picks_and_shovels_building_coal_mine }
						}
						order_by = da_state_profit_pm_atmospheric_engine_pump_building_coal_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coal_mine _2 = pm_atmospheric_engine_pump_building_coal_mine }
					}
					#lead
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_lead_mine _2 = pm_atmospheric_engine_pump_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_atmospheric_engine_pump_building_lead_mine _2 = da_state_profit_pm_picks_and_shovels_building_lead_mine }
						}
						order_by = da_state_profit_pm_atmospheric_engine_pump_building_lead_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_lead_mine _2 = pm_atmospheric_engine_pump_building_lead_mine }
					}
					#sulfur
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sulfur_mine _2 = pm_atmospheric_engine_pump_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_atmospheric_engine_pump_building_sulfur_mine _2 = da_state_profit_pm_picks_and_shovels_building_sulfur_mine }
						}
						order_by = da_state_profit_pm_atmospheric_engine_pump_building_sulfur_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sulfur_mine _2 = pm_atmospheric_engine_pump_building_sulfur_mine }
					}
				}
				#mine_explosive
				if = {
					limit = { has_technology_researched = dynamite }
					#iron
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_iron_mine _2 = pm_dynamite_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_iron_mine _2 = da_state_profit_pm_nitroglycerin_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_iron_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_dynamite_building_iron_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_iron_mine _2 = pm_dynamite_building_iron_mine }
					}
					#gold
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_gold_mine _2 = pm_dynamite_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_gold_mine _2 = da_state_profit_pm_nitroglycerin_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_gold_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_dynamite_building_gold_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_gold_mine _2 = pm_dynamite_building_gold_mine }
					}
					#coal
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coal_mine _2 = pm_dynamite_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_coal_mine _2 = da_state_profit_pm_nitroglycerin_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_coal_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_dynamite_building_coal_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coal_mine _2 = pm_dynamite_building_coal_mine }
					}
					#lead
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_lead_mine _2 = pm_dynamite_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_lead_mine _2 = da_state_profit_pm_nitroglycerin_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_lead_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_dynamite_building_lead_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_lead_mine _2 = pm_dynamite_building_lead_mine }
					}
					#sulfur
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sulfur_mine _2 = pm_dynamite_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_sulfur_mine _2 = da_state_profit_pm_nitroglycerin_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_dynamite_building_sulfur_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_dynamite_building_sulfur_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sulfur_mine _2 = pm_dynamite_building_sulfur_mine }
					}
				}
				else_if = {
					limit = { has_technology_researched = nitroglycerin }
					#iron
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_iron_mine _2 = pm_nitroglycerin_building_iron_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitroglycerin_building_iron_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_nitroglycerin_building_iron_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_iron_mine _2 = pm_nitroglycerin_building_iron_mine }
					}
					#gold
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_gold_mine _2 = pm_nitroglycerin_building_gold_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitroglycerin_building_gold_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_nitroglycerin_building_gold_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_gold_mine _2 = pm_nitroglycerin_building_gold_mine }
					}
					#coal
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_coal_mine _2 = pm_nitroglycerin_building_coal_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitroglycerin_building_coal_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_nitroglycerin_building_coal_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_coal_mine _2 = pm_nitroglycerin_building_coal_mine }
					}
					#lead
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_lead_mine _2 = pm_nitroglycerin_building_lead_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitroglycerin_building_lead_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_nitroglycerin_building_lead_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_lead_mine _2 = pm_nitroglycerin_building_lead_mine }
					}
					#sulfur
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_sulfur_mine _2 = pm_nitroglycerin_building_sulfur_mine }
							da_autopm_worth_change = { _1 = da_state_profit_pm_nitroglycerin_building_sulfur_mine _2 = da_state_profit_pm_no_explosives }
						}
						order_by = da_state_profit_pm_nitroglycerin_building_sulfur_mine
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_sulfur_mine _2 = pm_nitroglycerin_building_sulfur_mine }
					}
				}
				#wood
				if = {
					limit = { has_technology_researched = electrical_generation }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_logging_camp _2 = pm_electric_saw_mills }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_saw_mills _2 = da_state_profit_pm_saw_mills }
							da_autopm_worth_change = { _1 = da_state_profit_pm_electric_saw_mills _2 = da_state_profit_pm_simple_forestry }
						}
						order_by = da_state_profit_pm_electric_saw_mills
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_logging_camp _2 = pm_electric_saw_mills }
					}
				}
				else_if = {
					limit = { has_technology_researched = steelworking }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_logging_camp _2 = pm_saw_mills }
							da_autopm_worth_change = { _1 = da_state_profit_pm_saw_mills _2 = da_state_profit_pm_simple_forestry }
						}
						order_by = da_state_profit_pm_saw_mills
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_logging_camp _2 = pm_saw_mills }
					}
				}
				#oil
				if = {
					limit = { has_technology_researched = combustion_engine }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_oil_rig _2 = pm_combustion_derricks }
							da_autopm_worth_change = { _1 = da_state_profit_pm_combustion_derricks _2 = da_state_profit_pm_steam_derricks }
						}
						order_by = da_state_profit_pm_combustion_derricks
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_oil_rig _2 = pm_combustion_derricks }
					}
				}
				#fishing
				if = {
					limit = { has_technology_researched = ironclad_tech }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_fishing_wharf _2 = pm_steam_trawlers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_trawlers _2 = da_state_profit_pm_fishing_trawlers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_trawlers _2 = da_state_profit_pm_simple_fishing }
						}
						order_by = da_state_profit_pm_steam_trawlers
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_fishing_wharf _2 = pm_steam_trawlers }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_fishing_wharf _2 = pm_fishing_trawlers }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fishing_trawlers _2 = da_state_profit_pm_simple_fishing }
						}
						order_by = da_state_profit_pm_fishing_trawlers
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_fishing_wharf _2 = pm_fishing_trawlers }
					}
				}
				#whaling
				if = {
					limit = { has_technology_researched = ironclad_tech }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_whaling_station _2 = pm_steam_whaling_ships }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_whaling_ships _2 = da_state_profit_pm_wooden_whaling_ships }
							da_autopm_worth_change = { _1 = da_state_profit_pm_steam_whaling_ships _2 = da_state_profit_pm_simple_whaling }
						}
						order_by = da_state_profit_pm_steam_whaling_ships
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_whaling_station _2 = pm_steam_whaling_ships }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_whaling_station _2 = pm_wooden_whaling_ships }
							da_autopm_worth_change = { _1 = da_state_profit_pm_wooden_whaling_ships _2 = da_state_profit_pm_simple_whaling }
						}
						order_by = da_state_profit_pm_wooden_whaling_ships
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_whaling_station _2 = pm_wooden_whaling_ships }
					}
				}
				#farm
				if = {
					limit = { has_technology_researched = nitrogen_fixation }
					#rye
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_chemical_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_chemical_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rye_farm _2 = pm_chemical_fertilizer }
					}
					#wheat
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_wheat_farm _2 = pm_chemical_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_chemical_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_wheat_farm _2 = pm_chemical_fertilizer }
					}
					#rice
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rice_farm _2 = pm_chemical_fertilizer_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer_building_rice_farm _2 = da_state_profit_pm_fertilization_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer_building_rice_farm _2 = da_state_profit_pm_soil_enriching_farming_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer_building_rice_farm _2 = da_state_profit_pm_simple_farming_building_rice_farm }
						}
						order_by = da_state_profit_pm_chemical_fertilizer_building_rice_farm
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rice_farm _2 = pm_chemical_fertilizer_building_rice_farm }
					}
					#maize
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_maize_farm _2 = pm_chemical_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_chemical_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_maize_farm _2 = pm_chemical_fertilizer }
					}
					#millet
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_millet_farm _2 = pm_chemical_fertilizer }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_chemical_fertilizer _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_chemical_fertilizer
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_millet_farm _2 = pm_chemical_fertilizer }
					}
				}
				else_if = {
					limit = { has_technology_researched = improved_fertilizer }
					#rye
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_fertilization
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rye_farm _2 = pm_fertilization }
					}
					#wheat
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_wheat_farm _2 = pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_fertilization
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_wheat_farm _2 = pm_fertilization }
					}
					#rice
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rice_farm _2 = pm_fertilization_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization_building_rice_farm _2 = da_state_profit_pm_soil_enriching_farming_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization_building_rice_farm _2 = da_state_profit_pm_simple_farming_building_rice_farm }
						}
						order_by = da_state_profit_pm_fertilization_building_rice_farm
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rice_farm _2 = pm_fertilization_building_rice_farm }
					}
					#maize
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_maize_farm _2 = pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_fertilization
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_maize_farm _2 = pm_fertilization }
					}
					#millet
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_millet_farm _2 = pm_fertilization }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_fertilization _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_fertilization
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_millet_farm _2 = pm_fertilization }
					}
				}
				else_if = {
					limit = { has_technology_researched = intensive_agriculture }
					#rye
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rye_farm _2 = pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_soil_enriching_farming _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_soil_enriching_farming
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rye_farm _2 = pm_soil_enriching_farming }
					}
					#wheat
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_wheat_farm _2 = pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_soil_enriching_farming _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_soil_enriching_farming
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_wheat_farm _2 = pm_soil_enriching_farming }
					}
					#rice
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rice_farm _2 = pm_soil_enriching_farming_building_rice_farm }
							da_autopm_worth_change = { _1 = da_state_profit_pm_soil_enriching_farming_building_rice_farm _2 = da_state_profit_pm_simple_farming_building_rice_farm }
						}
						order_by = da_state_profit_pm_soil_enriching_farming_building_rice_farm
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rice_farm _2 = pm_soil_enriching_farming_building_rice_farm }
					}
					#maize
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_maize_farm _2 = pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_soil_enriching_farming _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_soil_enriching_farming
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_maize_farm _2 = pm_soil_enriching_farming }
					}
					#millet
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_millet_farm _2 = pm_soil_enriching_farming }
							da_autopm_worth_change = { _1 = da_state_profit_pm_soil_enriching_farming _2 = da_state_profit_pm_simple_farming }
						}
						order_by = da_state_profit_pm_soil_enriching_farming
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_millet_farm _2 = pm_soil_enriching_farming }
					}
				}
				#livestock
				if = {
					limit = { has_technology_researched = mechanized_farming }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_livestock_ranch _2 = pm_intensive_grazing_ranch }
							da_autopm_worth_change = { _1 = da_state_profit_pm_intensive_grazing_ranch _2 = da_state_profit_pm_sheep_farms }
							da_autopm_worth_change = { _1 = da_state_profit_pm_intensive_grazing_ranch _2 = da_state_profit_pm_simple_ranch }
						}
						order_by = da_state_profit_pm_intensive_grazing_ranch
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_livestock_ranch _2 = pm_intensive_grazing_ranch }
					}
				}
				else_if = {
					limit = { has_technology_researched = intensive_agriculture }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_livestock_ranch _2 = pm_sheep_farms }
							da_autopm_worth_change = { _1 = da_state_profit_pm_sheep_farms _2 = da_state_profit_pm_simple_ranch }
						}
						order_by = da_state_profit_pm_sheep_farms
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_livestock_ranch _2 = pm_sheep_farms }
					}
				}
				#livestock
				if = {
					limit = { has_technology_researched = mechanized_farming }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_livestock_ranch _2 = pm_mechanized_slaughtering }
							da_autopm_worth_change = { _1 = da_state_profit_pm_mechanized_slaughtering _2 = da_state_profit_pm_slaughterhouses }
							da_autopm_worth_change = { _1 = da_state_profit_pm_mechanized_slaughtering _2 = da_state_profit_pm_butchering_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_mechanized_slaughtering _2 = da_state_profit_pm_open_air_stockyards }
						}
						order_by = da_state_profit_pm_mechanized_slaughtering
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_livestock_ranch _2 = pm_mechanized_slaughtering }
					}
				}
				else_if = {
					limit = { has_technology_researched = mechanical_tools }
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_livestock_ranch _2 = pm_slaughterhouses }
							da_autopm_worth_change = { _1 = da_state_profit_pm_slaughterhouses _2 = da_state_profit_pm_butchering_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_slaughterhouses _2 = da_state_profit_pm_open_air_stockyards }
						}
						order_by = da_state_profit_pm_slaughterhouses
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_livestock_ranch _2 = pm_slaughterhouses }
					}
				}
				else = {
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_livestock_ranch _2 = pm_butchering_tools }
							da_autopm_worth_change = { _1 = da_state_profit_pm_butchering_tools _2 = da_state_profit_pm_open_air_stockyards }
						}
						order_by = da_state_profit_pm_butchering_tools
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_livestock_ranch _2 = pm_butchering_tools }
					}
				}
				#PLANTATIONS
				if = {
					limit = { has_technology_researched = pumpjacks }
					#cotton
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_cotton_plantation _2 = automatic_irrigation_building_cotton_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_cotton_plantation _2 = da_state_profit_default_building_cotton_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_cotton_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_cotton_plantation _2 = automatic_irrigation_building_cotton_plantation }
					}
					#opium
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_opium_plantation _2 = automatic_irrigation_building_opium_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_opium_plantation _2 = da_state_profit_default_building_opium_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_opium_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_opium_plantation _2 = automatic_irrigation_building_opium_plantation }
					}
					#rubber
					ordered_scope_state = {
						limit = {
							da_auto_change_pm_trigger = { _1 = building_rubber_plantation _2 = automatic_irrigation_building_rubber_plantation }
							da_autopm_worth_change = { _1 = da_state_profit_automatic_irrigation_building_rubber_plantation _2 = da_state_profit_default_building_rubber_plantation }
						}
						order_by = da_state_profit_automatic_irrigation_building_rubber_plantation
						max = global_var:da_upgrade_amount
						check_range_bounds = no
						da_auto_change_pm = { _1 = building_rubber_plantation _2 = automatic_irrigation_building_rubber_plantation }
					}
				}
			}
		}
	}

	complete = {
		always = no
	}

	# current_value = {
	# 	value = global_var:da_investment_manager
	# }
	# goal_add_value = {
	# 	value = 1
	# }
	should_be_pinned_by_default = yes
	# progressbar = yes
	weight = 10000
}
